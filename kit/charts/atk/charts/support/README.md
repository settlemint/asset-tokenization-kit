# support

![Version: 2.0.0-alpha.14](https://img.shields.io/badge/Version-2.0.0--alpha.14-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 2.0.0-alpha.14](https://img.shields.io/badge/AppVersion-2.0.0--alpha.14-informational?style=flat-square)

A Helm chart for the supporting components

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| SettleMint | <support@settlemint.com> | <https://settlemint.com> |

## Requirements

| Repository | Name | Version |
|------------|------|---------|
|  | minio | 2.0.0-alpha.14 |
|  | postgresql | 2.0.0-alpha.14 |
|  | redis | 2.0.0-alpha.14 |
| https://kubernetes.github.io/ingress-nginx | ingress-nginx | 4.13.2 |
| https://stakater.github.io/stakater-charts | reloader | 2.2.3 |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| global.labels."kots.io/app-slug" | string | `"settlemint-atk"` |  |
| ingress-nginx | object | `{"controller":{"admissionWebhooks":{"enabled":false},"affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"app.kubernetes.io/component","operator":"In","values":["controller"]},{"key":"app.kubernetes.io/name","operator":"In","values":["ingress-nginx"]}]},"topologyKey":"kubernetes.io/hostname"},"weight":100}]}},"allowSnippetAnnotations":true,"autoscaling":{"behaviour":{"scaleDown":{"policies":[{"periodSeconds":180,"type":"Pods","value":1}],"stabilizationWindowSeconds":300},"scaleUp":{"policies":[{"periodSeconds":60,"type":"Pods","value":2}],"stabilizationWindowSeconds":0}},"enabled":false,"maxReplicas":10,"minReplicas":2,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80},"config":{"annotations-risk-level":"Critical","client-body-buffer-size":"128k","enable-access-log-for-default-backend":"true","enable-brotli":"true","enable-opentelemetry":"true","enable-underscores-in-headers":"true","http-snippet":"lua_need_request_body on;\n\nmap $status $request_body_filtered {\n    204     \"\";\n    default $request_body_binary_check;\n}\n\nmap $request_body $request_body_binary_check {\n    ~[^[:print:]]  \"[binary data]\";\n    default       $request_body;\n}\n\nserver {\n    listen 18080;\n\n    location /nginx_status {\n        allow all;\n        stub_status on;\n    }\n    location / {\n        return 404;\n    }\n}\n","http2-push-preload":"true","ignore-invalid-headers":"false","limit-req-status-code":"429","log-format-escape-json":"true","log-format-upstream":"{\"proxyUpstreamName\": \"$proxy_upstream_name\", \"httpRequest\":{\"requestMethod\": \"$request_method\", \"requestUrl\": \"$host$request_uri\", \"status\": $status, \"requestBody\": \"${request_body_filtered}\"}, \"cloudflare\": {\"cfConnectingIp\": \"$http_cf_connecting_ip\", \"cfIpCountry\": \"$http_cf_ipcountry\", \"cfRay\": \"$http_cf_ray\", \"trueClientIp\": \"$http_true_client_ip\"}, \"meta\": {\"timestamp\": \"$time_iso8601\", \"latency\": \"$upstream_response_time s\", \"requestID\": \"$req_id\", \"requestSize\": \"$request_length\", \"responseSize\": \"$upstream_response_length\", \"userAgent\": \"$http_user_agent\", \"referer\": \"$http_referer\", \"protocol\":\"$server_protocol\", \"proxyAlternativeUpstreamName\": \"$proxy_alternative_upstream_name\", \"upstreamStatus\": \"$upstream_status\", \"upstreamAddr\": \"$upstream_addr\", \"cfVisitor\": \"$http_cf_visitor\", \"cfRequestId\": \"$http_cf_request_id\"}}","max-worker-connections":"65536","nginx-status-ipv4-whitelist":"0.0.0.0","opentelemetry-trust-incoming-span":"true","otel-max-export-batch-size":"512","otel-max-queuesize":"2048","otel-sampler":"AlwaysOn","otel-sampler-parent-based":"false","otel-sampler-ratio":"1.0","otel-schedule-delay-millis":"5000","otlp-collector-host":"o11y-alloy","otlp-collector-port":"4317","proxy-body-size":"500M","proxy-buffer-size":"128k","proxy-buffering":"on","proxy-buffers-number":"4","proxy-busy-buffers-size":"128k","proxy-max-temp-file-size":"1024m","proxy-read-timeout":"3600","proxy-send-timeout":"3600","proxy_next_upstream":"error timeout http_500 http_502 http_503 http_504","proxy_next_upstream_timeout":"30","proxy_next_upstream_tries":"3","ssl-ciphers":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:AES128-GCM-SHA256:AES128-GCM-SHA384","ssl-redirect":"false","tcp-fast-open":"3000","upstream-keepalive-connections":"64","upstream-keepalive-timeout":"120","use-forwarded-headers":"false","use-http2":"true","worker-processes":"auto"},"extraArgs":{"enable-ssl-passthrough":"true"},"image":{"digest":"","digestChroot":"","image":"ingress-nginx/controller"},"ingressClass":"atk-nginx","ingressClassResource":{"controllerValue":"k8s.io/atk-nginx","default":false,"enabled":true,"name":"atk-nginx"},"metrics":{"enabled":true,"service":{"annotations":{"prometheus.io/port":"10254","prometheus.io/scrape":"true"},"labels":{"kots.io/app-slug":"settlemint-atk"}}},"opentelemetry":{"enabled":true,"image":{"registry":"registry.k8s.io"}},"patch":{"image":{"registry":"registry.k8s.io"}},"podAnnotations":{"prometheus.io/port":"10254","prometheus.io/scrape":"true"},"podLabels":{"kots.io/app-slug":"settlemint-atk"},"replicaCount":1,"resources":{},"runAsUser":2016,"service":{"annotations":{"external-dns.alpha.kubernetes.io/cloudflare-proxied":"true","external-dns.alpha.kubernetes.io/hostname":"settlemint.local, *.settlemint.local","service.beta.kubernetes.io/aws-load-balancer-backend-protocol":"tcp","service.beta.kubernetes.io/aws-load-balancer-nlb-target-type":"ip","service.beta.kubernetes.io/aws-load-balancer-scheme":"internet-facing","service.beta.kubernetes.io/aws-load-balancer-type":"external","service.beta.kubernetes.io/azure-load-balancer-disable-tcp-reset":"true","service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path":"/healthz","service.beta.kubernetes.io/azure-load-balancer-tcp-idle-timeout":"30"},"externalTrafficPolicy":"Local","type":"LoadBalancer"},"updateStrategy":{"rollingUpdate":{"maxSurge":"100%","maxUnavailable":"0%"},"type":"RollingUpdate"}},"defaultBackend":{"enabled":false},"enabled":true,"fullnameOverride":"ingress-nginx","global":{"image":{"registry":"registry.k8s.io"}},"imagePullSecrets":[]}` | Ingress NGINX configuration (object) |
| ingress-nginx.controller | object | `{"admissionWebhooks":{"enabled":false},"affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"app.kubernetes.io/component","operator":"In","values":["controller"]},{"key":"app.kubernetes.io/name","operator":"In","values":["ingress-nginx"]}]},"topologyKey":"kubernetes.io/hostname"},"weight":100}]}},"allowSnippetAnnotations":true,"autoscaling":{"behaviour":{"scaleDown":{"policies":[{"periodSeconds":180,"type":"Pods","value":1}],"stabilizationWindowSeconds":300},"scaleUp":{"policies":[{"periodSeconds":60,"type":"Pods","value":2}],"stabilizationWindowSeconds":0}},"enabled":false,"maxReplicas":10,"minReplicas":2,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80},"config":{"annotations-risk-level":"Critical","client-body-buffer-size":"128k","enable-access-log-for-default-backend":"true","enable-brotli":"true","enable-opentelemetry":"true","enable-underscores-in-headers":"true","http-snippet":"lua_need_request_body on;\n\nmap $status $request_body_filtered {\n    204     \"\";\n    default $request_body_binary_check;\n}\n\nmap $request_body $request_body_binary_check {\n    ~[^[:print:]]  \"[binary data]\";\n    default       $request_body;\n}\n\nserver {\n    listen 18080;\n\n    location /nginx_status {\n        allow all;\n        stub_status on;\n    }\n    location / {\n        return 404;\n    }\n}\n","http2-push-preload":"true","ignore-invalid-headers":"false","limit-req-status-code":"429","log-format-escape-json":"true","log-format-upstream":"{\"proxyUpstreamName\": \"$proxy_upstream_name\", \"httpRequest\":{\"requestMethod\": \"$request_method\", \"requestUrl\": \"$host$request_uri\", \"status\": $status, \"requestBody\": \"${request_body_filtered}\"}, \"cloudflare\": {\"cfConnectingIp\": \"$http_cf_connecting_ip\", \"cfIpCountry\": \"$http_cf_ipcountry\", \"cfRay\": \"$http_cf_ray\", \"trueClientIp\": \"$http_true_client_ip\"}, \"meta\": {\"timestamp\": \"$time_iso8601\", \"latency\": \"$upstream_response_time s\", \"requestID\": \"$req_id\", \"requestSize\": \"$request_length\", \"responseSize\": \"$upstream_response_length\", \"userAgent\": \"$http_user_agent\", \"referer\": \"$http_referer\", \"protocol\":\"$server_protocol\", \"proxyAlternativeUpstreamName\": \"$proxy_alternative_upstream_name\", \"upstreamStatus\": \"$upstream_status\", \"upstreamAddr\": \"$upstream_addr\", \"cfVisitor\": \"$http_cf_visitor\", \"cfRequestId\": \"$http_cf_request_id\"}}","max-worker-connections":"65536","nginx-status-ipv4-whitelist":"0.0.0.0","opentelemetry-trust-incoming-span":"true","otel-max-export-batch-size":"512","otel-max-queuesize":"2048","otel-sampler":"AlwaysOn","otel-sampler-parent-based":"false","otel-sampler-ratio":"1.0","otel-schedule-delay-millis":"5000","otlp-collector-host":"o11y-alloy","otlp-collector-port":"4317","proxy-body-size":"500M","proxy-buffer-size":"128k","proxy-buffering":"on","proxy-buffers-number":"4","proxy-busy-buffers-size":"128k","proxy-max-temp-file-size":"1024m","proxy-read-timeout":"3600","proxy-send-timeout":"3600","proxy_next_upstream":"error timeout http_500 http_502 http_503 http_504","proxy_next_upstream_timeout":"30","proxy_next_upstream_tries":"3","ssl-ciphers":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:AES128-GCM-SHA256:AES128-GCM-SHA384","ssl-redirect":"false","tcp-fast-open":"3000","upstream-keepalive-connections":"64","upstream-keepalive-timeout":"120","use-forwarded-headers":"false","use-http2":"true","worker-processes":"auto"},"extraArgs":{"enable-ssl-passthrough":"true"},"image":{"digest":"","digestChroot":"","image":"ingress-nginx/controller"},"ingressClass":"atk-nginx","ingressClassResource":{"controllerValue":"k8s.io/atk-nginx","default":false,"enabled":true,"name":"atk-nginx"},"metrics":{"enabled":true,"service":{"annotations":{"prometheus.io/port":"10254","prometheus.io/scrape":"true"},"labels":{"kots.io/app-slug":"settlemint-atk"}}},"opentelemetry":{"enabled":true,"image":{"registry":"registry.k8s.io"}},"patch":{"image":{"registry":"registry.k8s.io"}},"podAnnotations":{"prometheus.io/port":"10254","prometheus.io/scrape":"true"},"podLabels":{"kots.io/app-slug":"settlemint-atk"},"replicaCount":1,"resources":{},"runAsUser":2016,"service":{"annotations":{"external-dns.alpha.kubernetes.io/cloudflare-proxied":"true","external-dns.alpha.kubernetes.io/hostname":"settlemint.local, *.settlemint.local","service.beta.kubernetes.io/aws-load-balancer-backend-protocol":"tcp","service.beta.kubernetes.io/aws-load-balancer-nlb-target-type":"ip","service.beta.kubernetes.io/aws-load-balancer-scheme":"internet-facing","service.beta.kubernetes.io/aws-load-balancer-type":"external","service.beta.kubernetes.io/azure-load-balancer-disable-tcp-reset":"true","service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path":"/healthz","service.beta.kubernetes.io/azure-load-balancer-tcp-idle-timeout":"30"},"externalTrafficPolicy":"Local","type":"LoadBalancer"},"updateStrategy":{"rollingUpdate":{"maxSurge":"100%","maxUnavailable":"0%"},"type":"RollingUpdate"}}` | Controller configuration (object) |
| ingress-nginx.controller.admissionWebhooks | object | `{"enabled":false}` | Admission webhooks configuration (object) |
| ingress-nginx.controller.admissionWebhooks.enabled | bool | `false` | Enable admission webhooks (bool) |
| ingress-nginx.controller.affinity | object | `{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"app.kubernetes.io/component","operator":"In","values":["controller"]},{"key":"app.kubernetes.io/name","operator":"In","values":["ingress-nginx"]}]},"topologyKey":"kubernetes.io/hostname"},"weight":100}]}}` | Affinity configuration |
| ingress-nginx.controller.allowSnippetAnnotations | bool | `true` | Allow snippet annotations in Ingress objects |
| ingress-nginx.controller.autoscaling | object | `{"behaviour":{"scaleDown":{"policies":[{"periodSeconds":180,"type":"Pods","value":1}],"stabilizationWindowSeconds":300},"scaleUp":{"policies":[{"periodSeconds":60,"type":"Pods","value":2}],"stabilizationWindowSeconds":0}},"enabled":false,"maxReplicas":10,"minReplicas":2,"targetCPUUtilizationPercentage":80,"targetMemoryUtilizationPercentage":80}` | Autoscaling configuration (object) |
| ingress-nginx.controller.autoscaling.behaviour | object | `{"scaleDown":{"policies":[{"periodSeconds":180,"type":"Pods","value":1}],"stabilizationWindowSeconds":300},"scaleUp":{"policies":[{"periodSeconds":60,"type":"Pods","value":2}],"stabilizationWindowSeconds":0}}` | Autoscaling behavior configuration (object) |
| ingress-nginx.controller.autoscaling.behaviour.scaleDown | object | `{"policies":[{"periodSeconds":180,"type":"Pods","value":1}],"stabilizationWindowSeconds":300}` | Scale down behavior |
| ingress-nginx.controller.autoscaling.behaviour.scaleDown.policies | list | `[{"periodSeconds":180,"type":"Pods","value":1}]` | Scale down policies |
| ingress-nginx.controller.autoscaling.behaviour.scaleDown.stabilizationWindowSeconds | int | `300` | Stabilization window for scale down |
| ingress-nginx.controller.autoscaling.behaviour.scaleUp | object | `{"policies":[{"periodSeconds":60,"type":"Pods","value":2}],"stabilizationWindowSeconds":0}` | Scale up behavior |
| ingress-nginx.controller.autoscaling.behaviour.scaleUp.policies | list | `[{"periodSeconds":60,"type":"Pods","value":2}]` | Scale up policies |
| ingress-nginx.controller.autoscaling.behaviour.scaleUp.stabilizationWindowSeconds | int | `0` | Stabilization window for scale up |
| ingress-nginx.controller.autoscaling.enabled | bool | `false` | Enable autoscaling (bool) |
| ingress-nginx.controller.autoscaling.maxReplicas | int | `10` | Maximum number of replicas (int) |
| ingress-nginx.controller.autoscaling.minReplicas | int | `2` | Minimum number of replicas (int) |
| ingress-nginx.controller.autoscaling.targetCPUUtilizationPercentage | int | `80` | Target CPU utilization percentage |
| ingress-nginx.controller.autoscaling.targetMemoryUtilizationPercentage | int | `80` | Target memory utilization percentage |
| ingress-nginx.controller.config | object | `{"annotations-risk-level":"Critical","client-body-buffer-size":"128k","enable-access-log-for-default-backend":"true","enable-brotli":"true","enable-opentelemetry":"true","enable-underscores-in-headers":"true","http-snippet":"lua_need_request_body on;\n\nmap $status $request_body_filtered {\n    204     \"\";\n    default $request_body_binary_check;\n}\n\nmap $request_body $request_body_binary_check {\n    ~[^[:print:]]  \"[binary data]\";\n    default       $request_body;\n}\n\nserver {\n    listen 18080;\n\n    location /nginx_status {\n        allow all;\n        stub_status on;\n    }\n    location / {\n        return 404;\n    }\n}\n","http2-push-preload":"true","ignore-invalid-headers":"false","limit-req-status-code":"429","log-format-escape-json":"true","log-format-upstream":"{\"proxyUpstreamName\": \"$proxy_upstream_name\", \"httpRequest\":{\"requestMethod\": \"$request_method\", \"requestUrl\": \"$host$request_uri\", \"status\": $status, \"requestBody\": \"${request_body_filtered}\"}, \"cloudflare\": {\"cfConnectingIp\": \"$http_cf_connecting_ip\", \"cfIpCountry\": \"$http_cf_ipcountry\", \"cfRay\": \"$http_cf_ray\", \"trueClientIp\": \"$http_true_client_ip\"}, \"meta\": {\"timestamp\": \"$time_iso8601\", \"latency\": \"$upstream_response_time s\", \"requestID\": \"$req_id\", \"requestSize\": \"$request_length\", \"responseSize\": \"$upstream_response_length\", \"userAgent\": \"$http_user_agent\", \"referer\": \"$http_referer\", \"protocol\":\"$server_protocol\", \"proxyAlternativeUpstreamName\": \"$proxy_alternative_upstream_name\", \"upstreamStatus\": \"$upstream_status\", \"upstreamAddr\": \"$upstream_addr\", \"cfVisitor\": \"$http_cf_visitor\", \"cfRequestId\": \"$http_cf_request_id\"}}","max-worker-connections":"65536","nginx-status-ipv4-whitelist":"0.0.0.0","opentelemetry-trust-incoming-span":"true","otel-max-export-batch-size":"512","otel-max-queuesize":"2048","otel-sampler":"AlwaysOn","otel-sampler-parent-based":"false","otel-sampler-ratio":"1.0","otel-schedule-delay-millis":"5000","otlp-collector-host":"o11y-alloy","otlp-collector-port":"4317","proxy-body-size":"500M","proxy-buffer-size":"128k","proxy-buffering":"on","proxy-buffers-number":"4","proxy-busy-buffers-size":"128k","proxy-max-temp-file-size":"1024m","proxy-read-timeout":"3600","proxy-send-timeout":"3600","proxy_next_upstream":"error timeout http_500 http_502 http_503 http_504","proxy_next_upstream_timeout":"30","proxy_next_upstream_tries":"3","ssl-ciphers":"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:AES128-GCM-SHA256:AES128-GCM-SHA384","ssl-redirect":"false","tcp-fast-open":"3000","upstream-keepalive-connections":"64","upstream-keepalive-timeout":"120","use-forwarded-headers":"false","use-http2":"true","worker-processes":"auto"}` | NGINX configuration |
| ingress-nginx.controller.extraArgs | object | `{"enable-ssl-passthrough":"true"}` | Extra arguments for the controller |
| ingress-nginx.controller.ingressClass | string | `"atk-nginx"` | Ingress class name |
| ingress-nginx.controller.ingressClassResource | object | `{"controllerValue":"k8s.io/atk-nginx","default":false,"enabled":true,"name":"atk-nginx"}` | Ingress class resource configuration |
| ingress-nginx.controller.ingressClassResource.name | string | `"atk-nginx"` | If you run more than one platform versions on a single cluster, you need to make sure these are unique |
| ingress-nginx.controller.metrics | object | `{"enabled":true,"service":{"annotations":{"prometheus.io/port":"10254","prometheus.io/scrape":"true"},"labels":{"kots.io/app-slug":"settlemint-atk"}}}` | Metrics configuration |
| ingress-nginx.controller.opentelemetry | object | `{"enabled":true,"image":{"registry":"registry.k8s.io"}}` | OpenTelemetry configuration |
| ingress-nginx.controller.patch | object | `{"image":{"registry":"registry.k8s.io"}}` | Patch configuration |
| ingress-nginx.controller.podAnnotations | object | `{"prometheus.io/port":"10254","prometheus.io/scrape":"true"}` | Pod annotations |
| ingress-nginx.controller.podLabels | object | `{"kots.io/app-slug":"settlemint-atk"}` | Pod labels |
| ingress-nginx.controller.replicaCount | int | `1` | Number of controller replicas (int) |
| ingress-nginx.controller.resources | object | `{}` | Resource configuration |
| ingress-nginx.controller.runAsUser | int | `2016` | User ID to run the controller process |
| ingress-nginx.controller.service | object | `{"annotations":{"external-dns.alpha.kubernetes.io/cloudflare-proxied":"true","external-dns.alpha.kubernetes.io/hostname":"settlemint.local, *.settlemint.local","service.beta.kubernetes.io/aws-load-balancer-backend-protocol":"tcp","service.beta.kubernetes.io/aws-load-balancer-nlb-target-type":"ip","service.beta.kubernetes.io/aws-load-balancer-scheme":"internet-facing","service.beta.kubernetes.io/aws-load-balancer-type":"external","service.beta.kubernetes.io/azure-load-balancer-disable-tcp-reset":"true","service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path":"/healthz","service.beta.kubernetes.io/azure-load-balancer-tcp-idle-timeout":"30"},"externalTrafficPolicy":"Local","type":"LoadBalancer"}` | Service configuration |
| ingress-nginx.controller.service.annotations | object | `{"external-dns.alpha.kubernetes.io/cloudflare-proxied":"true","external-dns.alpha.kubernetes.io/hostname":"settlemint.local, *.settlemint.local","service.beta.kubernetes.io/aws-load-balancer-backend-protocol":"tcp","service.beta.kubernetes.io/aws-load-balancer-nlb-target-type":"ip","service.beta.kubernetes.io/aws-load-balancer-scheme":"internet-facing","service.beta.kubernetes.io/aws-load-balancer-type":"external","service.beta.kubernetes.io/azure-load-balancer-disable-tcp-reset":"true","service.beta.kubernetes.io/azure-load-balancer-health-probe-request-path":"/healthz","service.beta.kubernetes.io/azure-load-balancer-tcp-idle-timeout":"30"}` | Service annotations |
| ingress-nginx.controller.updateStrategy | object | `{"rollingUpdate":{"maxSurge":"100%","maxUnavailable":"0%"},"type":"RollingUpdate"}` | Update strategy configuration |
| ingress-nginx.defaultBackend | object | `{"enabled":false}` | Default backend configuration (object) |
| ingress-nginx.defaultBackend.enabled | bool | `false` | Enable default backend (bool) |
| ingress-nginx.enabled | bool | `true` | Enable Ingress NGINX deployment (bool) |
| ingress-nginx.fullnameOverride | string | `"ingress-nginx"` | String to fully override common.names.fullname (string) |
| ingress-nginx.global | object | `{"image":{"registry":"registry.k8s.io"}}` | Global configuration |
| ingress-nginx.global.image | object | `{"registry":"registry.k8s.io"}` | Global image configuration |
| ingress-nginx.global.image.registry | string | `"registry.k8s.io"` | Global image registry |
| ingress-nginx.imagePullSecrets | list | `[]` | Global Docker registry secret names as an array (list) |
| minio | object | `{"buckets":[{"name":"atk","policy":"none","purge":false}],"consoleIngress":{"enabled":true,"hosts":["minio-console.k8s.orb.local"],"ingressClassName":"atk-nginx","path":"/"},"enabled":true,"fullnameOverride":"minio","image":{"repository":"docker.io/minio/minio","tag":"RELEASE.2025-07-23T15-54-02Z"},"ingress":{"enabled":true,"hosts":["minio.k8s.orb.local"],"ingressClassName":"atk-nginx","path":"/"},"mode":"standalone","persistence":{"enabled":true,"size":"1Gi"},"replicas":1,"resources":{"limits":{"cpu":"200m","memory":"512Mi"},"requests":{"cpu":"100m","memory":"256Mi"}},"rootPassword":"atk-password","rootUser":"admin","users":[{"accessKey":"atk-service","policy":"readwrite","secretKey":"atk-service-secret"}]}` | MinIO configuration (object) |
| minio.buckets | list | `[{"name":"atk","policy":"none","purge":false}]` | Automatic bucket creation |
| minio.buckets[0] | object | `{"name":"atk","policy":"none","purge":false}` | ATK bucket configuration |
| minio.consoleIngress | object | `{"enabled":true,"hosts":["minio-console.k8s.orb.local"],"ingressClassName":"atk-nginx","path":"/"}` | Console ingress configuration (object) |
| minio.consoleIngress.enabled | bool | `true` | Enable ingress for MinIO console |
| minio.consoleIngress.hosts | list | `["minio-console.k8s.orb.local"]` | Hosts for MinIO console ingress |
| minio.consoleIngress.ingressClassName | string | `"atk-nginx"` | IngressClass for MinIO console |
| minio.consoleIngress.path | string | `"/"` | Path for MinIO console ingress |
| minio.enabled | bool | `true` | Enable MinIO deployment (bool) |
| minio.fullnameOverride | string | `"minio"` | String to fully override common.names.fullname (string) |
| minio.image | object | `{"repository":"docker.io/minio/minio","tag":"RELEASE.2025-07-23T15-54-02Z"}` | MinIO image configuration |
| minio.image.repository | string | `"docker.io/minio/minio"` | MinIO image repository |
| minio.image.tag | string | `"RELEASE.2025-07-23T15-54-02Z"` | MinIO image tag (immutable tags are recommended) |
| minio.ingress | object | `{"enabled":true,"hosts":["minio.k8s.orb.local"],"ingressClassName":"atk-nginx","path":"/"}` | Ingress configuration for MinIO API (object) |
| minio.ingress.enabled | bool | `true` | Enable ingress for MinIO API |
| minio.ingress.hosts | list | `["minio.k8s.orb.local"]` | Hosts for MinIO API ingress |
| minio.ingress.ingressClassName | string | `"atk-nginx"` | IngressClass for MinIO API |
| minio.ingress.path | string | `"/"` | Path for MinIO API ingress |
| minio.mode | string | `"standalone"` | MinIO deployment mode (string) |
| minio.persistence | object | `{"enabled":true,"size":"1Gi"}` | Persistence configuration (object) |
| minio.persistence.enabled | bool | `true` | Enable persistent volume for MinIO (bool) |
| minio.persistence.size | string | `"1Gi"` | Size of the persistent volume (string) |
| minio.replicas | int | `1` | Number of MinIO replicas (int) |
| minio.resources | object | `{"limits":{"cpu":"200m","memory":"512Mi"},"requests":{"cpu":"100m","memory":"256Mi"}}` | MinIO resource requests and limits (object) |
| minio.resources.limits | object | `{"cpu":"200m","memory":"512Mi"}` | Resource limits (object) |
| minio.resources.limits.cpu | string | `"200m"` | CPU limit (string) |
| minio.resources.limits.memory | string | `"512Mi"` | Memory limit (string) |
| minio.resources.requests | object | `{"cpu":"100m","memory":"256Mi"}` | Resource requests (object) |
| minio.resources.requests.cpu | string | `"100m"` | CPU request (string) |
| minio.resources.requests.memory | string | `"256Mi"` | Memory request (string) |
| minio.rootPassword | string | `"atk-password"` | MinIO root user password (string) |
| minio.rootUser | string | `"admin"` | MinIO root user credentials (string) |
| minio.users | list | `[{"accessKey":"atk-service","policy":"readwrite","secretKey":"atk-service-secret"}]` | Automatic user/service account creation |
| minio.users[0] | object | `{"accessKey":"atk-service","policy":"readwrite","secretKey":"atk-service-secret"}` | ATK service user configuration |
| postgresql | object | `{"commonLabels":{"app.kubernetes.io/managed-by":"helm","kots.io/app-slug":"settlemint-atk"},"enabled":true,"fullnameOverride":"postgresql","image":{"pullPolicy":"IfNotPresent","registry":"docker.io","repository":"postgres","tag":"17.6-alpine"},"imagePullSecrets":[],"initdb":{"scripts":{"create_databases.sql":"-- Create databases and users for all ATK services\nCREATE DATABASE blockscout;\nCREATE USER blockscout WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE blockscout TO blockscout;\n\\c blockscout;\nGRANT ALL ON SCHEMA public TO blockscout;\n\n\\c postgres;\nCREATE DATABASE thegraph WITH ENCODING 'UTF8' LC_COLLATE='C' LC_CTYPE='C' TEMPLATE template0;\nCREATE USER thegraph WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE thegraph TO thegraph;\n\\c thegraph;\nGRANT ALL ON SCHEMA public TO thegraph;\n\n\\c postgres;\nCREATE DATABASE hasura;\nCREATE USER hasura WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE hasura TO hasura;\n\\c hasura;\nGRANT ALL ON SCHEMA public TO hasura;\n\n\\c postgres;\nCREATE DATABASE portal;\nCREATE USER portal WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE portal TO portal;\n\\c portal;\nGRANT ALL ON SCHEMA public TO portal;\n\n\\c postgres;\nCREATE DATABASE txsigner;\nCREATE USER txsigner WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE txsigner TO txsigner;\n\\c txsigner;\nGRANT ALL ON SCHEMA public TO txsigner;\n"}},"persistence":{"accessModes":["ReadWriteOnce"],"enabled":true,"size":"8Gi","storageClass":""},"postgresql":{"database":"postgres","password":"atk","username":"postgres"},"postgresql_conf":{"checkpoint_completion_target":0.9,"default_statistics_target":100,"effective_cache_size":"1GB","effective_io_concurrency":200,"maintenance_work_mem":"64MB","max_connections":1000,"max_wal_size":"4GB","min_wal_size":"1GB","random_page_cost":1.1,"shared_buffers":"256MB","wal_buffers":"16MB","work_mem":"4MB"},"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"100m","memory":"256Mi"}},"service":{"port":5432,"targetPort":5432,"type":"ClusterIP"}}` | PostgreSQL configuration (object) |
| postgresql.commonLabels | object | `{"app.kubernetes.io/managed-by":"helm","kots.io/app-slug":"settlemint-atk"}` | Common labels to add to all PostgreSQL resources |
| postgresql.enabled | bool | `true` | Enable PostgreSQL deployment (bool) |
| postgresql.fullnameOverride | string | `"postgresql"` | String to fully override common.names.fullname (string) |
| postgresql.image | object | `{"pullPolicy":"IfNotPresent","registry":"docker.io","repository":"postgres","tag":"17.6-alpine"}` | PostgreSQL image configuration |
| postgresql.image.pullPolicy | string | `"IfNotPresent"` | PostgreSQL image pull policy |
| postgresql.image.registry | string | `"docker.io"` | PostgreSQL image registry |
| postgresql.image.repository | string | `"postgres"` | PostgreSQL image repository |
| postgresql.image.tag | string | `"17.6-alpine"` | PostgreSQL image tag (immutable tags are recommended) |
| postgresql.imagePullSecrets | list | `[]` | Global Docker registry secret names as an array (list) |
| postgresql.initdb | object | `{"scripts":{"create_databases.sql":"-- Create databases and users for all ATK services\nCREATE DATABASE blockscout;\nCREATE USER blockscout WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE blockscout TO blockscout;\n\\c blockscout;\nGRANT ALL ON SCHEMA public TO blockscout;\n\n\\c postgres;\nCREATE DATABASE thegraph WITH ENCODING 'UTF8' LC_COLLATE='C' LC_CTYPE='C' TEMPLATE template0;\nCREATE USER thegraph WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE thegraph TO thegraph;\n\\c thegraph;\nGRANT ALL ON SCHEMA public TO thegraph;\n\n\\c postgres;\nCREATE DATABASE hasura;\nCREATE USER hasura WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE hasura TO hasura;\n\\c hasura;\nGRANT ALL ON SCHEMA public TO hasura;\n\n\\c postgres;\nCREATE DATABASE portal;\nCREATE USER portal WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE portal TO portal;\n\\c portal;\nGRANT ALL ON SCHEMA public TO portal;\n\n\\c postgres;\nCREATE DATABASE txsigner;\nCREATE USER txsigner WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE txsigner TO txsigner;\n\\c txsigner;\nGRANT ALL ON SCHEMA public TO txsigner;\n"}}` | Database initialization scripts |
| postgresql.initdb.scripts | object | `{"create_databases.sql":"-- Create databases and users for all ATK services\nCREATE DATABASE blockscout;\nCREATE USER blockscout WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE blockscout TO blockscout;\n\\c blockscout;\nGRANT ALL ON SCHEMA public TO blockscout;\n\n\\c postgres;\nCREATE DATABASE thegraph WITH ENCODING 'UTF8' LC_COLLATE='C' LC_CTYPE='C' TEMPLATE template0;\nCREATE USER thegraph WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE thegraph TO thegraph;\n\\c thegraph;\nGRANT ALL ON SCHEMA public TO thegraph;\n\n\\c postgres;\nCREATE DATABASE hasura;\nCREATE USER hasura WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE hasura TO hasura;\n\\c hasura;\nGRANT ALL ON SCHEMA public TO hasura;\n\n\\c postgres;\nCREATE DATABASE portal;\nCREATE USER portal WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE portal TO portal;\n\\c portal;\nGRANT ALL ON SCHEMA public TO portal;\n\n\\c postgres;\nCREATE DATABASE txsigner;\nCREATE USER txsigner WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE txsigner TO txsigner;\n\\c txsigner;\nGRANT ALL ON SCHEMA public TO txsigner;\n"}` | Database initialization scripts |
| postgresql.initdb.scripts."create_databases.sql" | string | `"-- Create databases and users for all ATK services\nCREATE DATABASE blockscout;\nCREATE USER blockscout WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE blockscout TO blockscout;\n\\c blockscout;\nGRANT ALL ON SCHEMA public TO blockscout;\n\n\\c postgres;\nCREATE DATABASE thegraph WITH ENCODING 'UTF8' LC_COLLATE='C' LC_CTYPE='C' TEMPLATE template0;\nCREATE USER thegraph WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE thegraph TO thegraph;\n\\c thegraph;\nGRANT ALL ON SCHEMA public TO thegraph;\n\n\\c postgres;\nCREATE DATABASE hasura;\nCREATE USER hasura WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE hasura TO hasura;\n\\c hasura;\nGRANT ALL ON SCHEMA public TO hasura;\n\n\\c postgres;\nCREATE DATABASE portal;\nCREATE USER portal WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE portal TO portal;\n\\c portal;\nGRANT ALL ON SCHEMA public TO portal;\n\n\\c postgres;\nCREATE DATABASE txsigner;\nCREATE USER txsigner WITH PASSWORD 'atk' SUPERUSER;\nGRANT ALL PRIVILEGES ON DATABASE txsigner TO txsigner;\n\\c txsigner;\nGRANT ALL ON SCHEMA public TO txsigner;\n"` | SQL script to create databases and users for all ATK services |
| postgresql.persistence | object | `{"accessModes":["ReadWriteOnce"],"enabled":true,"size":"8Gi","storageClass":""}` | Persistence configuration (object) |
| postgresql.persistence.accessModes | list | `["ReadWriteOnce"]` | Access modes for persistent volume |
| postgresql.persistence.enabled | bool | `true` | Enable persistent volume for PostgreSQL (bool) |
| postgresql.persistence.size | string | `"8Gi"` | Size of the persistent volume (string) |
| postgresql.persistence.storageClass | string | `""` | Storage class for persistent volume (uses default if empty) |
| postgresql.postgresql | object | `{"database":"postgres","password":"atk","username":"postgres"}` | PostgreSQL authentication configuration (object) |
| postgresql.postgresql.database | string | `"postgres"` | PostgreSQL database name (string) |
| postgresql.postgresql.password | string | `"atk"` | PostgreSQL password (string) |
| postgresql.postgresql.username | string | `"postgres"` | PostgreSQL username (string) |
| postgresql.postgresql_conf | object | `{"checkpoint_completion_target":0.9,"default_statistics_target":100,"effective_cache_size":"1GB","effective_io_concurrency":200,"maintenance_work_mem":"64MB","max_connections":1000,"max_wal_size":"4GB","min_wal_size":"1GB","random_page_cost":1.1,"shared_buffers":"256MB","wal_buffers":"16MB","work_mem":"4MB"}` | PostgreSQL configuration tuned for development (object) |
| postgresql.postgresql_conf.checkpoint_completion_target | float | `0.9` | Target for completion of checkpoint processing |
| postgresql.postgresql_conf.default_statistics_target | int | `100` | Default statistics target for table columns |
| postgresql.postgresql_conf.effective_cache_size | string | `"1GB"` | Planner's assumption about the effective size of the disk cache |
| postgresql.postgresql_conf.effective_io_concurrency | int | `200` | Number of concurrent disk I/O operations |
| postgresql.postgresql_conf.maintenance_work_mem | string | `"64MB"` | Specifies the maximum amount of memory for maintenance operations |
| postgresql.postgresql_conf.max_connections | int | `1000` | Maximum number of concurrent connections |
| postgresql.postgresql_conf.max_wal_size | string | `"4GB"` | Maximum size to which the WAL will grow during automatic checkpoints |
| postgresql.postgresql_conf.min_wal_size | string | `"1GB"` | Minimum size to which the WAL will shrink |
| postgresql.postgresql_conf.random_page_cost | float | `1.1` | Planner's assumption about the cost of a non-sequentially-fetched disk page |
| postgresql.postgresql_conf.shared_buffers | string | `"256MB"` | Amount of memory dedicated to PostgreSQL to use for caching data |
| postgresql.postgresql_conf.wal_buffers | string | `"16MB"` | Amount of memory used in shared memory for WAL data |
| postgresql.postgresql_conf.work_mem | string | `"4MB"` | Amount of memory to be used by internal sort operations and hash tables |
| postgresql.resources | object | `{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"100m","memory":"256Mi"}}` | Resource configuration for development (object) |
| postgresql.resources.limits | object | `{"cpu":"500m","memory":"1Gi"}` | Resource limits (object) |
| postgresql.resources.limits.cpu | string | `"500m"` | CPU limit (string) |
| postgresql.resources.limits.memory | string | `"1Gi"` | Memory limit (string) |
| postgresql.resources.requests | object | `{"cpu":"100m","memory":"256Mi"}` | Resource requests (object) |
| postgresql.resources.requests.cpu | string | `"100m"` | CPU request (string) |
| postgresql.resources.requests.memory | string | `"256Mi"` | Memory request (string) |
| postgresql.service | object | `{"port":5432,"targetPort":5432,"type":"ClusterIP"}` | Service configuration |
| postgresql.service.port | int | `5432` | PostgreSQL service port |
| postgresql.service.targetPort | int | `5432` | PostgreSQL service target port |
| postgresql.service.type | string | `"ClusterIP"` | PostgreSQL service type |
| reloader | object | `{"enabled":true,"fullnameOverride":"reloader","global":{"imagePullSecrets":[]},"image":{"name":"stakater/reloader","repository":"ghcr.io/stakater/reloader"},"reloader":{"autoReloadAll":true,"containerSecurityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true},"deployment":{"labels":{"kots.io/app-slug":"settlemint-atk"}},"readOnlyRootFileSystem":true,"reloadOnCreate":false,"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":false,"runAsNonRoot":true,"runAsUser":2016},"syncAfterRestart":true,"watchGlobally":false}}` | Reloader configuration (object) |
| reloader.enabled | bool | `true` | Enable Reloader deployment (bool) |
| reloader.fullnameOverride | string | `"reloader"` | String to fully override common.names.fullname (string) |
| reloader.global | object | `{"imagePullSecrets":[]}` | Global configuration (object) |
| reloader.global.imagePullSecrets | list | `[]` | Global Docker registry secret names as an array (list) |
| reloader.image | object | `{"name":"stakater/reloader","repository":"ghcr.io/stakater/reloader"}` | Reloader image configuration |
| reloader.image.name | string | `"stakater/reloader"` | Reloader image name |
| reloader.image.repository | string | `"ghcr.io/stakater/reloader"` | Reloader image repository |
| reloader.reloader | object | `{"autoReloadAll":true,"containerSecurityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true},"deployment":{"labels":{"kots.io/app-slug":"settlemint-atk"}},"readOnlyRootFileSystem":true,"reloadOnCreate":false,"securityContext":{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":false,"runAsNonRoot":true,"runAsUser":2016},"syncAfterRestart":true,"watchGlobally":false}` | Reloader specific configuration (object) |
| reloader.reloader.autoReloadAll | bool | `true` | Enable auto reload for all resources (bool) |
| reloader.reloader.containerSecurityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true}` | Container security context configuration |
| reloader.reloader.deployment | object | `{"labels":{"kots.io/app-slug":"settlemint-atk"}}` | Deployment configuration |
| reloader.reloader.readOnlyRootFileSystem | bool | `true` | Enable read-only root filesystem |
| reloader.reloader.reloadOnCreate | bool | `false` | Reload on resource creation |
| reloader.reloader.securityContext | object | `{"allowPrivilegeEscalation":false,"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":false,"runAsNonRoot":true,"runAsUser":2016}` | Security context configuration |
| reloader.reloader.securityContext.capabilities | object | `{"drop":["ALL"]}` | Specifies the security capabilities for the container. Here, all capabilities are dropped. |
| reloader.reloader.securityContext.readOnlyRootFilesystem | bool | `false` | If true, the root filesystem of the container is read-only. |
| reloader.reloader.securityContext.runAsNonRoot | bool | `true` | Ensures the container runs as a non-root user. |
| reloader.reloader.securityContext.runAsUser | int | `2016` | The user ID to run the container as. Change this for OpenShift or specific requirements. |
| reloader.reloader.syncAfterRestart | bool | `true` | Sync after restart |
| reloader.reloader.watchGlobally | bool | `false` | Watch resources globally across namespaces |
