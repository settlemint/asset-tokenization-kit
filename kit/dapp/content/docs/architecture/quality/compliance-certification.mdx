---
title: Compliance & certification
description:
  Operating in regulated markets requires more than technical correctness—it
  requires provable compliance with regulatory frameworks. ATK is designed to
  facilitate regulatory audits and certifications, with comprehensive audit
  trails, documented controls, and alignment with industry standards.
pageTitle: Compliance and certification
tags: [architecture, compliance, certification, regulatory, audit, concept]
---

Related topics:
[Testing and quality gates](/docs/architecture/quality/testing-quality),
[Security validation](/docs/architecture/quality/security-validation)

## Why compliance-by-design matters for regulated assets

Traditional tokenization platforms treat compliance as an integration
problem—bolt on a KYC provider, add a sanctions screening API, hope everything
synchronizes. ATK takes the opposite approach: compliance controls are embedded
in the asset lifecycle from issuance through redemption, with every transfer
enforcing eligibility before execution. This is compliance-by-design, one of the
six DALP laws that separates institutional platforms from experimental projects.

When a regulator asks "prove this transfer was compliant," fragmented systems
force you to assemble evidence from multiple vendors: the KYC provider's
database shows identity verification, the token platform's logs show the
transfer occurred, and somewhere in the middleware you have matching logic that
should have checked one against the other. Maybe it worked. Maybe the middleware
had a bug. Maybe the databases were out of sync.

ATK's unified architecture means compliance verification, transfer execution,
and audit trail generation happen atomically in the same smart contract
transaction. The blockchain records immutable evidence that claims were checked
before the transfer settled. No reconciliation, no middleware synchronization
gaps, no regulatory doubt.

## Transfer restrictions enforced at the protocol layer

Security tokens implementing ERC-3643 embed transfer restrictions directly in
the token contract's transfer function. Every transfer attempt—whether initiated
through the UI, a DEX, or direct contract call—executes the same compliance
checks before moving tokens. This eliminates the bypass vulnerabilities that
plague off-chain compliance systems.

The compliance module architecture composes multiple restriction types: identity
verification requirements (must hold valid KYC/AML claims), country-based
restrictions (blocked jurisdictions cannot receive tokens), investor count
limits (Exchange Act Section 12(g) cap of 2,000 investors), lock-up periods
(tokens remain non-transferable until vesting), and address freezes (compliance
officers can immobilize specific accounts).

Each restriction module implements a single concern and tests in isolation. But
real securities often combine multiple restrictions simultaneously. A Regulation
D equity token might require accredited investor claims AND US jurisdiction AND
respect a 12-month lock-up for founders' shares AND enforce the 2,000 investor
cap. ATK's composition layer coordinates these checks, failing the transfer if
any single restriction rejects it.

### Testing bypass attempts validates security

Automated test suites don't just verify happy paths where compliant transfers
succeed. They explicitly attempt to bypass restrictions using attack vectors
that exploit smart contract edge cases: direct contract calls that skip
high-level interfaces, multicall batching to exploit atomic state changes, flash
loan manipulation to temporarily appear compliant, and re-entrancy patterns to
corrupt state during callbacks.

All bypass attempts must fail with explicit, auditable error messages. "Transfer
rejected: insufficient accreditation claim" tells the user exactly why
compliance failed. It also creates permanent blockchain evidence that the
restriction is enforcing policy. When auditors review transaction history, they
see attempted violations and confirmed rejections, demonstrating the control
operates continuously.

The test suite validates restriction behavior under state transitions: claim
expiration mid-flight, role revocation during batch operations, simultaneous
transfers from multiple addresses competing for the final investor slot. These
edge cases expose bugs that only surface under production load. Catching them in
automated testing prevents regulatory incidents.

For detailed security testing methodology, see
[Security validation](/docs/architecture/quality/security-validation).

## OnchainID lifecycle integrates identity with asset operations

KYC and AML compliance in ATK uses OnchainID, a blockchain-native identity
framework where each investor receives a unique identity contract storing
cryptographically signed claims. This eliminates the repeated identity
verification that frustrates investors in fragmented systems. Verify once, use
across all assets on the platform.

The identity lifecycle flows through five stages. **Issuance** occurs when a
compliance officer reviews an investor's documentation and adds verified claims
to their OnchainID contract. **Validation** happens during every token transfer
when the token contract queries the investor's identity, retrieves the required
claims, and verifies cryptographic signatures from trusted issuers.
**Expiration** enforces time-limited validity—claims typically expire after 12
months, requiring periodic re-verification to maintain accuracy. **Revocation**
enables immediate claim cancellation if circumstances change (investor loses
accreditation, sanctions screening flags them, jurisdiction restrictions
change). **Re-verification** guides expired or revoked investors through
documentation resubmission to restore their claims.

This lifecycle creates continuous compliance rather than point-in-time checks.
An investor who was accredited at subscription time might lose that status
before redemption. Traditional systems rarely catch this drift. ATK's
claims-based model detects expiration or revocation automatically and blocks
operations until re-verification completes.

<Mermaid chart={`flowchart TB
  Start(Investor submits KYC/AML docs)
  Review(Compliance officer reviews)
  Issuance(Claims issued to OnchainID)
  Active(Active use: claims validated on transfers)
  Monitor(Continuous monitoring)
  Approaching(Approaching expiration &lt;30 days)
  Alert(Investor receives renewal alert)
  Expired(Claims expired)
  Blocked(Transfers blocked)
  Circumstances(Circumstances change?)
  Revoked(Claims revoked immediately)
  Resubmit(Investor resubmits documentation)
  Success(Re-verification successful)

Start --> Review Review --> Issuance Issuance --> Active Active --> Monitor
Monitor --> Approaching Approaching --> Alert Alert --> Resubmit Monitor -->
Expired Expired --> Blocked Blocked --> Resubmit Monitor --> Circumstances
Circumstances -->|Yes| Revoked Circumstances -->|No| Monitor Revoked --> Blocked
Resubmit --> Review Review --> Success Success --> Active

classDef primary fill:#5fc9bf,stroke:#3a9d96,stroke-width:2px,color:#fff
classDef secondary fill:#6ba4d4,stroke:#4a7ba8,stroke-width:2px,color:#fff
classDef tertiary fill:#8571d9,stroke:#654bad,stroke-width:2px,color:#fff
classDef quaternary fill:#b661d9,stroke:#8a3fb3,stroke-width:2px,color:#fff
classDef warning fill:#f59e0b,stroke:#d97706,stroke-width:2px,color:#fff
classDef error fill:#ef4444,stroke:#dc2626,stroke-width:2px,color:#fff

class Start,Review,Success primary class Issuance,Active,Monitor secondary class
Approaching,Alert,Resubmit tertiary class Expired,Revoked,Blocked,Circumstances
error `} />

### Observability integration for proactive monitoring

ATK's observability stack surfaces identity status across the platform. The
compliance metrics panel shows claim expiration timelines, flagging accounts
that need renewal within 30 days. Operations teams see aggregate metrics:
percentage of investors with current claims, average claim age, re-verification
completion rates.

Investors receive expiration alerts through the UI and can initiate
re-verification workflows directly from the dashboard. This proactive approach
prevents surprise rejections where a transaction fails because a claim expired
yesterday. The system maintains operational continuity by giving everyone
visibility into upcoming compliance events.

Automated test suites validate the complete identity integration flow: new
investor onboarding, KYC documentation submission, compliance officer claim
issuance, successful token transfer with valid claim, failed transfer with
expired claim, and failed transfer with revoked claim. Each test generates
blockchain events that auditors can inspect to verify control effectiveness.

## Immutable audit trails from event emissions

Every state-changing operation in ATK emits a blockchain event with complete
contextual data. Token minting records `Transfer(address(0), recipient, amount)`
alongside metadata identifying the issuance reason and authorization. Token
burning logs `Transfer(account, address(0), amount)` with redemption
justification. Compliance module updates emit
`ComplianceModuleUpdated(module, action, params)` showing what changed and who
authorized it. Identity registry modifications fire
`IdentityRegistryUpdated(address, identity, action)` tracking investor
onboarding and claim updates. Freeze operations generate
`AddressFrozen(address, reason)` and `AddressUnfrozen(address)` with compliance
officer attribution.

These events aren't just for technical debugging. They're the foundation of
regulatory audit trails demonstrating that controls operated correctly at every
step. Events include token identifiers and amounts, sender and recipient
addresses, block timestamps providing temporal ordering, transaction hashes
linking to complete on-chain context, and operation-specific metadata explaining
why actions were taken.

### TheGraph indexing enables complex queries

Raw blockchain events require specialized tooling to query and analyze. ATK's
TheGraph subgraph indexes all events into a structured GraphQL database that
auditors can query without running blockchain nodes or understanding low-level
RPC APIs. Complex queries aggregate data: "show all transfers from this address
during Q4 2024," "calculate total dividends distributed per token holder,"
"reconstruct the compliance module configuration at a specific historical
block."

Historical snapshots reconstruct system state at any point in time. If a
regulatory inquiry asks "who owned tokens on March 15, 2024 and were all holders
compliant at that date?" the subgraph can rebuild the ownership registry and
verify each holder's identity claims at that historical block. This temporal
query capability is essential for regulated assets where ownership and
compliance status change continuously.

The observability dashboard exposes this audit trail through
administrator-friendly interfaces. Operations teams don't write GraphQL
queries—they use pre-built dashboards showing failed transactions with rejection
reasons, compliance officer actions with timestamps and justifications, and
distribution events with entitlement calculations. Export functions generate CSV
reports for spreadsheet analysis or PDF summaries for regulatory submissions.

## SOC 2 Type II readiness through RBAC and logging

Service Organization Control (SOC) 2 Type II certification validates that access
controls, logging, change management, and monitoring operate effectively over
sustained periods (typically 6-12 months of continuous observation). ATK's
architecture anticipates these requirements with role-based access control
(RBAC) enforcing least privilege at every layer.

Role segregation prevents privilege escalation. Investors hold tokens and
initiate transfers but cannot mint, burn, or freeze accounts. Compliance
officers manage identity claims and freeze suspicious accounts but cannot mint
tokens or modify supply. Issuers control token supply through minting and
burning but cannot alter compliance rules without governance approval.
Administrators configure compliance modules but cannot execute token operations
without the appropriate functional role.

This separation maps to financial services' segregation of duties requirements
where different personnel approve different transaction types. Multi-signature
wallets enforce maker-checker workflows: one operator proposes a sensitive
action, and multiple approvers must confirm before execution. The observability
dashboard tracks pending approvals, approval timelines, and which addresses
voted for or against proposals.

### Comprehensive logging captures the four Ws

All privileged operations log to immutable audit trails answering four
questions. **Who** performed the operation, recording both the Ethereum address
and associated OnchainID to link blockchain activity to real-world identity.
**What** operation was performed, including the function called, all parameters
provided, and state changes resulting. **When** the operation occurred, using
block timestamp for ordering and transaction hash for lookup. **Why** the
operation was performed, embedding metadata like freeze reasons, burn
justifications, or compliance rule change rationales.

Audit log retention follows financial services standards: 7 years in immutable
storage. Blockchain events persist permanently and cannot be modified or
deleted. Subgraph data backs up to decentralized storage (IPFS or Arweave)
ensuring it survives platform infrastructure failures. Database audit tables use
append-only patterns where deletes are forbidden and updates create new rows
preserving historical values.

### Change management through GitOps and multi-signature deployment

Code changes flow through documented approval workflows. Pull requests require
peer review from senior engineers and security team sign-off for sensitive
modules. Automated CI/CD pipelines run test suites, security scanners, and
quality gates before allowing merge to main. Deployment requires multi-signature
approval from the governance committee—one developer cannot unilaterally push
changes to production.

The complete change history preserves decision context. Git commit history
tracks code evolution with commit messages explaining what changed and why. Pull
request discussions document technical debates, alternative approaches
considered, and rationale for chosen solutions. CI/CD logs validate that all
quality gates passed. Blockchain transaction hashes prove when contract upgrades
deployed and which addresses authorized them.

Rollback procedures are documented and tested quarterly through disaster
recovery drills. If a deployment introduces a critical bug, the team can revert
to the previous contract version through the proxy upgrade mechanism. The
observability dashboard shows deployment history, rollback capabilities, and
emergency pause functions that administrators can trigger if active exploitation
is detected.

### Real-time monitoring demonstrates operational effectiveness

SOC 2 Type II auditors look for evidence that controls work continuously, not
just during the audit period. ATK's observability stack provides comprehensive
dashboards showing system health, security alerts, performance metrics, and
operational events in real time.

Security monitoring detects anomalies: unusual transfer volumes, repeated
compliance failures from specific addresses, suspicious claim issuance patterns.
Availability tracking measures uptime percentages, API response times,
blockchain node synchronization status. Performance metrics capture transaction
latency, gas consumption trends, subgraph indexing lag.

Incident response procedures define escalation paths and resolution
expectations. Automated alerts page on-call engineers for critical issues.
Runbooks guide diagnosis and remediation. Postmortem templates structure
blameless reviews after incidents, identifying preventive measures and tracking
their implementation. The observability dashboard maintains an incident timeline
showing detection time, response time, resolution time, and preventing
recurrence actions.

This continuous monitoring creates the evidence base auditors need to certify
that controls operated effectively throughout the observation period. Metrics
demonstrate consistent enforcement rather than point-in-time compliance.

## ISO 27001 information security management alignment

ISO 27001 defines a framework for identifying risks, implementing controls,
accepting residual risks, and continuously improving security posture. ATK's
threat modeling process maps directly to these requirements.

Risk assessment identifies four vulnerability categories. Smart contract
vulnerabilities include re-entrancy, access control bypass, integer overflow,
and economic exploits like oracle manipulation. Infrastructure vulnerabilities
encompass network attacks, denial of service, and node infrastructure
compromise. Operational vulnerabilities cover key management failures, insider
threats, social engineering, and procedure violations. Third-party
vulnerabilities track dependency supply chain risks, service provider security
incidents, and vendor access management.

Each identified risk receives a documented mitigation. Smart contract audits by
external security firms review code before deployment. Formal verification
mathematically proves critical invariants. Automated security scanning runs on
every commit using tools like Slither and Mythril. Key management uses hardware
security modules (HSMs) to protect signing keys with tamper-resistant hardware.
Vendor security assessments evaluate third-party providers before engagement,
and contract terms define security expectations and liability.

### Residual risk acceptance and monitoring

Not all risks can be eliminated cost-effectively. ISO 27001 requires explicit
acknowledgment of residual risks that remain after controls are implemented.
ATK's risk register identifies these, assigns ownership to senior management,
and sets time-limited acceptance periods requiring periodic re-evaluation.

For example, smart contract upgrade risk is mitigated through multi-signature
governance but cannot be eliminated entirely. Senior management explicitly
accepts that a compromised governance key set could authorize malicious
upgrades. This risk is monitored through governance participation metrics, key
rotation schedules, and HSM access logs. Every six months, the risk committee
reassesses whether additional controls are justified.

Incident management follows ISO 27001's detect-classify-respond-resolve-learn
cycle. Automated monitoring and user reports identify incidents. Triage
classifies severity using a rubric: critical (active exploitation affecting
multiple users), high (security vulnerability disclosed publicly), medium
(degraded service affecting subset of users), low (minor bugs with workarounds).
Documented runbooks guide response based on classification. Incidents are
resolved through code fixes, configuration changes, or emergency pauses.
Blameless postmortems identify root causes and preventive measures.

### Continuous improvement through metrics and audits

Security posture improves over time through systematic measurement. Quality
metrics track test coverage percentage, security scan finding trends,
mean-time-to-remediate vulnerabilities, and incident frequency. The
observability dashboard visualizes these trends, showing whether the platform is
becoming more secure or accumulating technical debt.

Periodic audits validate control effectiveness. External auditors review code,
configuration, operational procedures, and incident response. Findings feed back
into the risk assessment process, potentially identifying new risks or revealing
that existing controls are less effective than assumed. The continuous
improvement cycle closes when action items from audits are tracked to completion
and re-audited to verify fixes.

## MiCA compliance for european markets

The European Union's Markets in Crypto-Assets (MiCA) regulation imposes
disclosure, resilience, and consumer protection requirements on crypto-asset
service providers. ATK's architecture addresses these mandates through
transparent on-chain operations, high availability infrastructure, and
consumer-friendly redemption mechanisms.

Transparency starts with comprehensive token metadata published on-chain: issuer
legal entity information, asset description and terms, risk factor disclosures,
and redemption rights. Smart contracts are verified on block explorers like
Etherscan, allowing anyone to inspect source code and confirm it matches the
deployed bytecode. Compliance module configurations are publicly
auditable—anyone can query which restrictions apply and verify they match
documented terms. Regular reports disclose token supply, holder counts,
geographic distribution, and trading volumes.

Operational resilience addresses business continuity and disaster recovery. ATK
deploys on Kubernetes with auto-scaling, redundant nodes across availability
zones, and no single points of failure. Disaster recovery procedures define
Recovery Point Objective (RPO) of one hour—maximum acceptable data loss—and
Recovery Time Objective (RTO) of four hours—maximum acceptable downtime.
Quarterly disaster recovery drills validate these targets by simulating
infrastructure failures and measuring time-to-recovery.

Consumer protection manifests through clear risk disclosures in token
documentation, fair redemption mechanisms with transparent pricing (NAV
calculations for funds, fixed redemption prices for bonds), dispute resolution
procedures for operational issues, and segregated custody of investor assets.
Vault-based custody ensures investor funds are never commingled with operational
reserves, reducing loss risk if the platform faces financial difficulties.

## Preparing for regulatory audits with organized artifacts

Regulatory audits move faster when documentation is pre-organized and audit
trails are immediately accessible. ATK maintains three documentation tiers that
together provide complete compliance evidence.

Technical documentation covers smart contract architecture, security control
implementation, compliance mechanism design, and operational procedures. Each
document links to source code, deployment transactions, and observability
dashboards demonstrating live operation. This tier answers "how does the system
work?"

Policy documentation defines formal procedures governing platform operations:
access control policies specifying role assignments and approval requirements,
change management policies defining deployment gates and rollback procedures,
incident response policies outlining escalation paths and resolution
expectations, and data retention policies specifying storage duration and
deletion procedures. This tier answers "what are the rules?"

Audit artifacts provide pre-packaged evidence: security audit reports from
external firms with finding resolution tracking, penetration testing results
showing vulnerability discovery and remediation, code review approvals with
discussion summaries, and deployment records with timestamps and multi-signature
approvers. This tier answers "can you prove it?"

### Auditor data access through read-only interfaces

Auditors receive read-only credentials to multiple data sources. Blockchain
explorers provide direct on-chain data access showing all transactions, events,
and state changes. Subgraph GraphQL endpoints allow custom queries aggregating
indexed data across historical periods. Observability dashboards surface
operational metrics, security alerts, and performance data. Log aggregation
systems provide searchable access to application logs, audit logs, and
infrastructure logs.

Data export functions generate reports in auditor-friendly formats. Transaction
histories export to CSV for spreadsheet analysis or JSON for programmatic
processing. Event logs include complete parameters and decoded human-readable
values. Access control logs show privileged operations with actor attribution.
Deployment histories list all contract upgrades with change descriptions and
approver signatures.

Automated validation tools prove audit trail completeness. Event emission
coverage tests ensure every state-changing function emits appropriate events.
Subgraph indexing tests confirm all emitted events were captured and indexed.
Log retention tests verify 7-year retention compliance by checking oldest
available logs match retention policy. Data integrity tests validate
immutability by comparing historical records against current state—any
discrepancy indicates tampering.

## Automated regulatory reporting and responsive data requests

Ongoing compliance requires periodic reports to regulators and responsive
fulfillment of ad-hoc data requests. ATK's observability stack automates routine
reports and enables rapid custom queries.

Token holder reports provide investor demographics: total holder count and
geographic distribution (aggregated by country from jurisdiction claims),
accredited versus non-accredited investor breakdown, concentration risk showing
percentage held by top 10 and top 100 holders, and transfer restriction
summaries showing how many holders are subject to lock-ups or freezes.

Transaction reports summarize platform activity: total transaction count and
volume per asset per time period, mint and burn operations with supporting
documentation explaining issuance or redemption rationale, failed transfers
grouped by rejection reason (compliance check failed, insufficient balance,
paused token), and compliance officer actions (freeze orders, claim revocations,
identity updates).

Compliance violation reports flag potential issues requiring investigation:
attempted transfers that failed compliance checks (indicating someone tried to
trade non-compliant tokens), expired identity claims requiring re-verification,
addresses approaching investor count limits (Regulation D cap warnings), and
unusual transaction patterns (velocity spikes, repeated small transfers to new
addresses).

### Responsive fulfillment of regulator data requests

Regulatory inquiries often request specific subsets of data. The subgraph query
interface enables rapid custom reports: transaction history for specific
addresses over defined periods, complete audit trail for specific tokens showing
all mints, burns, transfers, and compliance changes, compliance officer action
history with timestamps and justifications, and system access logs for security
investigations.

Data exports support multiple formats based on regulator preferences. CSV
exports work with spreadsheet tools. JSON exports support programmatic analysis.
PDF reports provide formatted summaries with embedded visualizations. GraphQL
queries allow regulators comfortable with APIs to fetch exactly the data they
need without waiting for custom report generation.

ATK commits to response time SLAs based on request urgency. Routine requests
(quarterly reports, planned audits) complete within 5 business days. Urgent
requests (suspected fraud investigation) complete within 24 hours. Emergency
requests (active market manipulation, immediate enforcement action) complete
within 4 hours. The observability dashboard tracks fulfillment metrics showing
average response time and request backlog.

## The compliance advantage of unified DALP architecture

Compliance certification isn't a checkbox—it's continuous evidence that controls
operate effectively in production. ATK's unified DALP architecture makes this
evidence generation automatic rather than manual.

Fragmented platforms cobble together compliance evidence from multiple vendors.
You're cross-referencing the KYC provider's logs, the token platform's
transaction history, the middleware integration logs, and hoping everything
aligns. When they don't, you're explaining gaps to auditors.

ATK's unified registry means compliance verification, transfer execution, and
audit trail creation happen atomically. The blockchain records immutable
evidence that rules were checked before operations executed. Observability
dashboards surface this evidence in formats auditors understand. Automated
reports generate regulatory submissions without manual data compilation.

This compliance-by-design approach scales with platform growth. Adding new
assets, onboarding new investors, and processing corporate actions all generate
audit trails automatically. Compliance teams spend time on policy decisions
rather than evidence gathering. Auditors validate control design once and then
sample operational evidence to confirm continuous effectiveness.

For validation testing practices, see
[Testing and quality gates](/docs/architecture/quality/testing-quality). For
security control verification, see
[Security validation](/docs/architecture/quality/security-validation).
