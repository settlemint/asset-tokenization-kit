specVersion: 1.2.0
indexerHints:
  prune: auto
features:
  - nonFatalErrors
  - fullTextSearch
  - ipfsOnEthereumContracts
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: DvPSwapFactory
    network: settlemint
    source:
      address: "0x5c6f68F06ab1B8f2F790AF5C2D58FFfE9444E7ED"
      abi: DvPSwapFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Factory
        - DvPSwapFactory
        - DvPSwapContractCreatedEvent
      abis:
        - name: DvPSwapFactory
          file: ../contracts/artifacts/contracts/DvPSwapFactory.sol/DvPSwapFactory.json
        - name: DvPSwap
          file: ../contracts/artifacts/contracts/DvPSwap.sol/DvPSwap.json
      eventHandlers:
        - event: DvPSwapContractCreated(indexed address,indexed address)
          handler: handleDvPSwapContractCreated
      file: ./src/factories/dvpswap-factory.ts
templates:
  - kind: ethereum/contract
    name: Bond
    network: settlemint
    source:
      abi: Bond
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Asset
        - Account
        - Factory
        - Bond
        - CryptoCurrency
        - Equity
        - StableCoin
        - Fund
        - Deposit
        - AssetEvent
        - FactoryEvent
        - BondCreatedEvent
        - ApprovalEvent
        - BondMaturedEvent
        - BondRedeemedEvent
        - PausedEvent
        - TokensFrozenEvent
        - TransferEvent
        - UnpausedEvent
        - UserBlockedEvent
        - UserUnblockedEvent
        - UserAllowedEvent
        - UserDisallowedEvent
        - RoleGrantedEvent
        - RoleRevokedEvent
        - RoleAdminChangedEvent
        - UnderlyingAssetTopUpEvent
        - UnderlyingAssetWithdrawnEvent
        - AssetStats
        - AssetStatsData
        - PortfolioStats
        - PortfolioStatsData
        - BondStats
        - BondStatsData
        - TransferData
        - AccountActivityData
        - RoleActivityData
        - BondActivityData
        - TransferStats
        - AccountActivityStats
        - RoleActivityStats
        - BondActivityStats
      abis:
        - name: Bond
          file: ../contracts/artifacts/contracts/Bond.sol/Bond.json
        - name: FixedYield
          file: ../contracts/artifacts/contracts/FixedYield.sol/FixedYield.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: BondMatured(uint256)
          handler: handleBondMatured
        - event: BondRedeemed(indexed address,uint256,uint256)
          handler: handleBondRedeemed
        - event: Paused(address)
          handler: handlePaused
        - event: TokensFrozen(indexed address,uint256)
          handler: handleTokensFrozen
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UserBlocked(indexed address)
          handler: handleUserBlocked
        - event: UserUnblocked(indexed address)
          handler: handleUserUnblocked
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: UnderlyingAssetTopUp(indexed address,uint256)
          handler: handleUnderlyingAssetTopUp
        - event: UnderlyingAssetWithdrawn(indexed address,uint256)
          handler: handleUnderlyingAssetWithdrawn
        - event: Clawback(indexed address,indexed address,uint256)
          handler: handleClawback
      file: ./src/assets/bond.ts
  - kind: ethereum/contract
    name: CryptoCurrency
    network: settlemint
    source:
      abi: CryptoCurrency
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Asset
        - Account
        - Factory
        - CryptoCurrency
        - Bond
        - Equity
        - StableCoin
        - Fund
        - Deposit
        - AssetEvent
        - FactoryEvent
        - CryptoCurrencyCreatedEvent
        - ApprovalEvent
        - PausedEvent
        - TokensFrozenEvent
        - TransferEvent
        - UnpausedEvent
        - UserBlockedEvent
        - UserUnblockedEvent
        - UserAllowedEvent
        - UserDisallowedEvent
        - RoleGrantedEvent
        - RoleRevokedEvent
        - RoleAdminChangedEvent
        - AssetStats
        - AssetStatsData
        - PortfolioStats
        - PortfolioStatsData
        - CryptoCurrencyStats
        - CryptoCurrencyStatsData
        - TransferData
        - AccountActivityData
        - RoleActivityData
        - CryptoCurrencyActivityData
        - TransferStats
        - AccountActivityStats
        - RoleActivityStats
        - CryptoCurrencyActivityStats
      abis:
        - name: CryptoCurrency
          file: ../contracts/artifacts/contracts/CryptoCurrency.sol/CryptoCurrency.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
      file: ./src/assets/cryptocurrency.ts
  - kind: ethereum/contract
    name: Equity
    network: settlemint
    source:
      abi: Equity
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Asset
        - Account
        - Factory
        - Equity
        - Bond
        - CryptoCurrency
        - StableCoin
        - Fund
        - Deposit
        - AssetEvent
        - FactoryEvent
        - EquityCreatedEvent
        - ApprovalEvent
        - PausedEvent
        - TokensFrozenEvent
        - TransferEvent
        - UnpausedEvent
        - UserBlockedEvent
        - UserUnblockedEvent
        - UserAllowedEvent
        - UserDisallowedEvent
        - RoleGrantedEvent
        - RoleRevokedEvent
        - RoleAdminChangedEvent
        - AssetStats
        - AssetStatsData
        - PortfolioStats
        - PortfolioStatsData
        - EquityStats
        - EquityStatsData
        - TransferData
        - AccountActivityData
        - RoleActivityData
        - EquityActivityData
        - TransferStats
        - AccountActivityStats
        - RoleActivityStats
        - EquityActivityStats
        - ClawbackEvent
      abis:
        - name: Equity
          file: ../contracts/artifacts/contracts/Equity.sol/Equity.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Paused(address)
          handler: handlePaused
        - event: TokensFrozen(indexed address,uint256)
          handler: handleTokensFrozen
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UserBlocked(indexed address)
          handler: handleUserBlocked
        - event: UserUnblocked(indexed address)
          handler: handleUserUnblocked
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: Clawback(indexed address,indexed address,uint256)
          handler: handleClawback
      file: ./src/assets/equity.ts
  - kind: ethereum/contract
    name: StableCoin
    network: settlemint
    source:
      abi: StableCoin
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Asset
        - Account
        - Factory
        - StableCoin
        - Bond
        - CryptoCurrency
        - Equity
        - Fund
        - Deposit
        - AssetEvent
        - FactoryEvent
        - StableCoinCreatedEvent
        - ApprovalEvent
        - PausedEvent
        - TokensFrozenEvent
        - TransferEvent
        - UnpausedEvent
        - UserBlockedEvent
        - UserUnblockedEvent
        - UserAllowedEvent
        - UserDisallowedEvent
        - RoleGrantedEvent
        - RoleRevokedEvent
        - RoleAdminChangedEvent
        - CollateralTopUpEvent
        - CollateralWithdrawnEvent
        - AssetStats
        - AssetStatsData
        - PortfolioStats
        - PortfolioStatsData
        - StableCoinStats
        - StableCoinStatsData
        - TransferData
        - AccountActivityData
        - RoleActivityData
        - StableCoinActivityData
        - TransferStats
        - AccountActivityStats
        - RoleActivityStats
        - StableCoinActivityStats
      abis:
        - name: StableCoin
          file: ../contracts/artifacts/contracts/StableCoin.sol/StableCoin.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Paused(address)
          handler: handlePaused
        - event: TokensFrozen(indexed address,uint256)
          handler: handleTokensFrozen
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UserBlocked(indexed address)
          handler: handleUserBlocked
        - event: UserUnblocked(indexed address)
          handler: handleUserUnblocked
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: CollateralUpdated(uint256,uint256,uint256)
          handler: handleCollateralUpdated
        - event: Clawback(indexed address,indexed address,uint256)
          handler: handleClawback
      file: ./src/assets/stablecoin.ts
  - kind: ethereum/contract
    name: FixedYield
    network: settlemint
    source:
      abi: FixedYield
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Event_YieldClaimed
        - YieldPeriod
        - YieldMetricsData
        - YieldMetricsStats
      abis:
        - name: FixedYield
          file: ../contracts/artifacts/contracts/FixedYield.sol/FixedYield.json
      eventHandlers:
        - event: YieldClaimed(indexed address,uint256,uint256,uint256,uint256[],uint256)
          handler: handleYieldClaimed
        - event: UnderlyingAssetTopUp(indexed address,uint256)
          handler: handleUnderlyingAssetTopUp
        - event: UnderlyingAssetWithdrawn(indexed address,uint256)
          handler: handleUnderlyingAssetWithdrawn
      file: ./src/assets/fixed-yield.ts
  - kind: ethereum/contract
    name: Fund
    network: settlemint
    source:
      abi: Fund
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Asset
        - Account
        - Factory
        - Fund
        - Bond
        - CryptoCurrency
        - Equity
        - StableCoin
        - Deposit
        - AssetEvent
        - FactoryEvent
        - FundCreatedEvent
        - ApprovalEvent
        - PausedEvent
        - TokensFrozenEvent
        - TransferEvent
        - UnpausedEvent
        - UserBlockedEvent
        - UserUnblockedEvent
        - UserAllowedEvent
        - UserDisallowedEvent
        - RoleGrantedEvent
        - RoleRevokedEvent
        - RoleAdminChangedEvent
        - FeeCollectedEvent
        - AssetStats
        - AssetStatsData
        - PortfolioStats
        - PortfolioStatsData
        - FundStats
        - FundStatsData
        - TransferData
        - AccountActivityData
        - RoleActivityData
        - FundActivityData
        - TransferStats
        - AccountActivityStats
        - RoleActivityStats
        - FundActivityStats
      abis:
        - name: Fund
          file: ../contracts/artifacts/contracts/Fund.sol/Fund.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Paused(address)
          handler: handlePaused
        - event: TokensFrozen(indexed address,uint256)
          handler: handleTokensFrozen
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UserBlocked(indexed address)
          handler: handleUserBlocked
        - event: UserUnblocked(indexed address)
          handler: handleUserUnblocked
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: ManagementFeeCollected(uint256,uint256)
          handler: handleManagementFeeCollected
        - event: PerformanceFeeCollected(uint256,uint256)
          handler: handlePerformanceFeeCollected
        - event: TokenWithdrawn(indexed address,indexed address,uint256)
          handler: handleTokenWithdrawn
        - event: Clawback(indexed address,indexed address,uint256)
          handler: handleClawback
      file: ./src/assets/fund.ts
  - kind: ethereum/contract
    name: Deposit
    network: settlemint
    source:
      abi: Deposit
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Asset
        - Account
        - Factory
        - Deposit
        - AssetEvent
        - FactoryEvent
        - DepositCreatedEvent
        - ApprovalEvent
        - PausedEvent
        - TokensFrozenEvent
        - TransferEvent
        - UnpausedEvent
        - UserAllowedEvent
        - UserDisallowedEvent
        - RoleGrantedEvent
        - RoleRevokedEvent
        - RoleAdminChangedEvent
        - AssetStats
        - AssetStatsData
        - PortfolioStats
        - PortfolioStatsData
        - DepositStats
        - DepositStatsData
        - TransferData
        - AccountActivityData
        - RoleActivityData
        - DepositActivityData
        - TransferStats
        - AccountActivityStats
        - RoleActivityStats
        - DepositActivityStats
        - CollateralUpdatedEvent
      abis:
        - name: Deposit
          file: ../contracts/artifacts/contracts/Deposit.sol/Deposit.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,uint256)
          handler: handleApproval
        - event: Paused(address)
          handler: handlePaused
        - event: TokensFrozen(indexed address,uint256)
          handler: handleTokensFrozen
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UserAllowed(indexed address)
          handler: handleUserAllowed
        - event: UserDisallowed(indexed address)
          handler: handleUserDisallowed
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: TokenWithdrawn(indexed address,indexed address,uint256)
          handler: handleTokenWithdrawn
        - event: CollateralUpdated(uint256,uint256,uint256)
          handler: handleCollateralUpdated
        - event: Clawback(indexed address,indexed address,uint256)
          handler: handleClawback
      file: ./src/assets/deposit.ts
  - kind: ethereum/contract
    name: DvPSwap
    network: settlemint
    source:
      abi: DvPSwap
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - Account
        - DvPSwap
        - DvPSwapEntity
        - DvPSwapCreatedEvent
        - DvPSwapStatusChangedEvent
        - DvPSwapClaimedEvent
        - DvPSwapRefundedEvent
        - TokensLockedEvent
        - DvPSwapStatsData
        - DvPSwapStats
      abis:
        - name: DvPSwap
          file: ../contracts/artifacts/contracts/DvPSwap.sol/DvPSwap.json
      eventHandlers:
        - event: DvPSwapCreated(indexed bytes32,indexed address,indexed
            address,address,address,uint256,uint256,uint256,bytes32)
          handler: handleDvPSwapCreated
        - event: DvPSwapStatusChanged(indexed bytes32,uint8)
          handler: handleDvPSwapStatusChanged
        - event: DvPSwapClaimed(indexed bytes32,indexed address,bytes32)
          handler: handleDvPSwapClaimed
        - event: DvPSwapRefunded(indexed bytes32,indexed address)
          handler: handleDvPSwapRefunded
        - event: TokensLocked(indexed bytes32,address,uint256,uint256)
          handler: handleTokensLocked
      file: ./src/dvpswap/dvpswap.ts
